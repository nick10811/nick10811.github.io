---
layout: post
title: Change the login message
date: '2016-05-17T21:39:00.000+08:00'
author: Nick Yang
tags:
- Linux
modified_time: '2016-05-17T21:54:02.691+08:00'
blogger_id: tag:blogger.com,1999:blog-7236887784802460774.post-2864249052449248860
blogger_orig_url: https://imjustaprogrammer.blogspot.com/2016/05/change-login-message.html
---

To know which server is own login, we should show welcome message before login. This article illustrates how to set display messages before/after login on the banner.<br /><br /><b>Before Login</b><br />To show welcome message before login, you should edit ssh configure file, <b>/etc/ssh/sshd_cofig</b>. Add banner message which is follows. We add a banner text file to <b>/etc/profile.d</b>, and specify this file path in the ssh configure file. The path, <b>/etc/profile.d</b>, stores all files that are executed when the user login.<br /><pre class="brush: bash; gutter: false;">[root@centos-6 ~]# vim /etc/ssh/sshd_config<br /></pre><pre class="brush: bash;"># no default banner path<br />Banner /etc/profile.d/banner.txt<br /></pre><br /><div class="page" title="Page 14">The file, banner.txt, can be whatever file you want and store in anywhere. However, we store it in the <b>/etc/profile.d</b>. Then edit the file and put in whatever welcome message you want.<br /><pre class="brush: plain;">,--.   ,--.       ,--.                              <br />|  |   |  | ,---. |  | ,---. ,---. ,--,--,--. ,---. <br />|  |.'.|  || .-. :|  || .--'| .-. ||        || .-. :<br />|   ,'.   |\   --.|  |\ `--.' '-' '|  |  |  |\   --.<br />'--'   '--' `----'`--' `---' `---' `--`--`--' `----'<br /></pre><br />After all settings, you need to restart sshd before your changes take effect.<br /><pre class="brush: bash; gutter: false;">[root@centos-6 ~]# service sshd restart<br />Stopping sshd:                                             [  OK  ]<br />Starting sshd:                                             [  OK  ]<br /></pre><br />When you connect to the server, the welcome message will show in the terminal.<br /><pre class="brush: bash; gutter: false;">newmac:~ user$ ssh nick1811@192.168.0.90<br />,--.   ,--.       ,--.                            <br />|  |   |  | ,---. |  | ,---. ,---. ,--,--,--. ,---.<br />|  |.'.|  || .-. :|  || .--'| .-. ||        || .-. :<br />|   ,'.   |\   --.|  |\ `--.' '-' '|  |  |  |\   --.<br />'--'   '--' `----'`--' `---' `---' `--`--`--' `----'<br />nick1811@192.168.0.90's password:<br /></pre><br /><br /><b>After Login</b><br />In this part, I will show you how to set display message after login. To change the display message, you should edit <b>/etc/motd</b>. But in this article, we do not revise <b>/etc/motd</b>. We add a file, motd.sh, into the path, <b>/etc/profile.d</b>. All of files in this path will be automatically executed by <b>/etc/profile</b> when the user login.<br /><pre class="brush: bash; gutter: false;">[root@centos-6 ~]# vim /etc/profile.d/motd.sh<br /></pre><pre class="brush: bash;">#!/bin/bash<br />echo -e "<br /> ######################<br /> # Welcome to Cent OS #<br /> ######################<br />"<br /></pre><br />So you can see the result after this setting.<br /><pre class="brush: bash; gutter: false;">Last login: Tue May 17 11:27:49 2016 from 192.168.1.138<br /><br /> ######################<br /> # Welcome to Cent OS #<br /> ######################<br /><br />[nick1811@centos-6 ~]$<br /></pre></div>