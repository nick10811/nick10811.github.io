<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!-- SEO -->
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html">
  <meta name="author" content="Nick Yang">
  <meta name="copyright" content="Nick Yang">
  <meta name="google-site-verification" content="k__3UkuLW0Sii1xTIEMqhQPH9FK0q80vJRUGjaYhpdo" />
  <meta name="keywords"
        content="iOS, Swift, Objective-C, iOS Developer, Mac, watchOS, Linux, imjustaprogrammer, im just a programmer, I'm just a programmer">

  <link rel="start" title="I'm Just A Programmer" href="/">

  
    <meta property="og:title" content="I'm Just A Programmer" >
    <meta property="og:type" content="article" />
    <meta property="og:image" content="/public/logo.png">
    <meta property="og:description"
        content="" >
    <meta name="description"
        content="">
  

  <title>
    
      Merge Commits Among Different Repositories &middot; I'm Just A Programmer
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/custom.min.css">
  <link href="/public/css/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


<body class="theme-base-chocolate">
    <div class="navbar">
    <h1>
        <a class="home-logo" href="https://nick10811.github.io">
            I'm Just A Programmer
        </a>
    </h1>

    <nav>
        <a href="/latest_app">Latest Apps</a>
        <a href="/archive">Archives</a>
        <a href="/about">About</a>
        <!-- 
        
            
                
            
        
            
                
                    <a  href="/about/">About</a>
                
            
        
            
                
                    <a  href="/archive/">Archives</a>
                
            
        
            
        
            
                
            
        
            
                
            
        
            
                
                    <a  href="/publication/">Publications</a>
                
            
        
            
                
            
        
            
                
            
        
            
                
                    <a  href="/tags/">Tags</a>
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
         -->
    </nav>
</div>
 <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="https://nick10811.github.io">
          I'm Just A Programmer
        </a>
      </h1>
      <p class="lead"></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/latest_app">Latest Apps</a>
      <a class="sidebar-nav-item" href="/tags">Tags</a>
      <a class="sidebar-nav-item" href="/archive">Archives</a>
      <a class="sidebar-nav-item" href="/about">About</a>
      

      <!-- 
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archives</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/publication/">Publications</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/tags/">Tags</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
       -->
      <span class="sidebar-nav-item">
        <ul class="list-inline text-center">
          
          <li>
              <a href="https://www.linkedin.com/in/nick10811">
                  <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-linkedin fa-stack-1x"></i>
                  </span>
              </a>
          </li>
          
          
          <li>
              <a href="https://github.com/nick10811">
                  <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-github fa-stack-1x"></i>
                  </span>
              </a>
          </li>
          
          
          <li>
            <a href="https://twitter.com/nick10811_">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x"></i>
              </span>
            </a>
          </li>
          
        </ul>
      </span>
    </nav>
    <p class="copyright">
        &copy; Copyright 2024 | Nick Yang | All rights reserved
    </p>
  </div>
</div>

    <div class="content container">
        <div class="post">
  <h1 class="post-title">Merge Commits Among Different Repositories</h1>
  <span class="post-date">04 Jan 2022</span>
  <p>This article aims to introduce advanced git commands. The company might clone an existing repository to build a new project in certain cases. But, they also need to retain features consistent among those projects. Hence, I wrote this article to address those problems.</p>

<p>In this article, I will introduce three approaches that help me to achieve my object.</p>

<ul>
  <li>git-cherry-pick</li>
  <li>git-diff</li>
  <li>git-patch</li>
</ul>

<h2 id="git-cherry-pick">git-cherry-pick</h2>

<p>You might wonder why I choose <a href="https://git-scm.com/docs/git-cherry-pick"><code class="language-plaintext highlighter-rouge">cherry-pick</code></a>. It just applies commits among <strong>branches</strong> instead of repositories. But there has a difference when I adopt <a href="https://git-scm.com/docs/git-remote"><code class="language-plaintext highlighter-rouge">git-remote</code></a>. I can still use <a href="https://git-scm.com/docs/git-cherry-pick"><code class="language-plaintext highlighter-rouge">cherry-pick</code></a> when I fetch the source repo to current repo. After fetching, I can apply multiple commits to the current branch.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># add source repo to existing</span>
<span class="nv">$ </span>git remote add <span class="o">[</span>&lt;<span class="nb">source </span>repo&gt;] <span class="o">[</span>&lt;repo url&gt;]
<span class="nv">$ </span>git fetch <span class="o">[</span>&lt;<span class="nb">source </span>repo&gt;]

<span class="c"># apply commits to current branch</span>
<span class="nv">$ </span>git cherry-pick <span class="o">[</span>&lt;commit A&gt;] <span class="o">[</span>&lt;commit B&gt;]
</code></pre></div></div>

<blockquote>
  <p>ðŸ’¡ Add <code class="language-plaintext highlighter-rouge">--no-commit</code> if you donâ€™t want to leave the commit message.</p>
</blockquote>

<h2 id="git-diff">git-diff</h2>

<p>The main purpose of <a href="https://git-scm.com/docs/git-diff"><code class="language-plaintext highlighter-rouge">git-diff</code></a> is to show changes between commits. So we can make a <strong>diff</strong> file between two commits, and apply it in the destination project.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># generate diff file</span>
<span class="nv">$ </span>git diff <span class="o">[</span>&lt;start commit&gt;] <span class="o">[</span>&lt;end commit&gt;] <span class="o">&gt;</span> update.diff

<span class="c"># switch to destination repo &amp; place diff file to the root of project</span>
<span class="nv">$ </span>git apply update.diff
<span class="nv">$ </span><span class="nb">rm </span>update.diff
</code></pre></div></div>

<h2 id="git-format-patch">git-format-patch</h2>

<p>This command is similar to the previous one. The biggest difference is <a href="https://git-scm.com/docs/git-format-patch"><code class="language-plaintext highlighter-rouge">git-format-patch</code></a> will append commit message, and generate a patch file with email format. The operation is also similar. First, we find a commit as a start point and set the number of commits that you want to package it. After generating patch file, we place it in the root of the project of destination repo. Second, we use <a href="https://git-scm.com/docs/git-am"><code class="language-plaintext highlighter-rouge">git-am</code></a>  to apply this patch.</p>

<blockquote>
  <p>ðŸ’¡ <strong>HINT:</strong> patch file is only for the commits in a row</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># generate a patch file</span>
<span class="nv">$ </span>git format-patch -[number] <span class="o">[</span>&lt;start commit&gt;] <span class="nt">--output</span> update.patch

<span class="c"># switch to destination repo &amp; place patch file to the root of project</span>
<span class="nv">$ </span>git apply <span class="nt">--check</span> update.patch
<span class="c"># when the patch doesn't apply cleanly, fall back on 3-way merge</span>
<span class="nv">$ </span>git am <span class="nt">-3</span> update.patch
<span class="nv">$ </span><span class="nb">rm </span>update.patch
</code></pre></div></div>

<blockquote>
  <ul>
    <li><a href="https://git-scm.com/docs/git-apply"><code class="language-plaintext highlighter-rouge">git-apply</code></a> â†’ apply a patch/file</li>
    <li><a href="https://git-scm.com/docs/git-am"><code class="language-plaintext highlighter-rouge">git-am</code></a> â†’ apply a series patches/files</li>
  </ul>
</blockquote>

<h2 id="how-to-choose">How to choose?</h2>

<p>The above approaches have their own advantages and disadvantages. According to my study, I give you my conclusions as follows.</p>

<ul>
  <li>git-cherry-pick
    <ul>
      <li>If you have multiple sparse commits need to apply to the current repo.</li>
    </ul>
  </li>
  <li>git-diff
    <ul>
      <li>If you just apply the changes without commit message.</li>
    </ul>
  </li>
  <li>git-patch
    <ul>
      <li>if you have the commits in a row need to apply to the current repo, and need to keep each commit message.</li>
    </ul>
  </li>
</ul>

<hr />

<p><strong>Git Official Documents</strong></p>

<ul>
  <li><a href="https://git-scm.com/docs/git-cherry-pick">git-cherry-pick</a></li>
  <li><a href="https://git-scm.com/docs/git-remote">git-remote</a></li>
  <li><a href="https://git-scm.com/docs/git-diff">git-diff</a></li>
  <li><a href="https://git-scm.com/docs/git-apply">git-apply</a></li>
  <li><a href="https://git-scm.com/docs/git-format-patch">git-format-patch</a></li>
  <li><a href="https://git-scm.com/docs/git-am">git-am</a></li>
</ul>

  <div class="post-tag">
    <span class="fa-stack fa-sm">
      <i class="fa fa-tags fa-stack-1x"></i>
    </span>
    :  <a class="tag-wrapper" href="/tags/Git" title="View posts tagged with &quot;Git&quot;"><span class="tags">Git</span></a>   
  </div>
</div>

<div class="message">
  <img class="profile" src="/public/profile.png" alt="profile-image">
  <div class="intro-message" style="text-align:justify">
    Hello, My name is Nick, TaiwaneseðŸ‡¹ðŸ‡¼. I like to develop iOS Apps and use Unix-based operating systems. And, I love reading and
    traveling to fill to my life. This blog recorded all technical articles which I have faced and solved problems. Please
    leave your comment to discuss with me.
  </div>
</div>


<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2024/05/17/introduce-the-index-of-mongodb/">
            Introduce the Index of MongoDB
            <small>17 May 2024</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2023/01/19/in-app-purchase/">
            In-App Purchase (IAP)
            <small>19 Jan 2023</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/12/17/Automate-the-iOS-App-Development-and-Release-Process-with-Fastlane/">
            Automate the iOS App Development and Release Process with Fastlane
            <small>17 Dec 2022</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
 
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nick10811'; // required: replace example with your forum shortname
    var disqus_identifier = '/2022/01/04/Merge-Commits-Among-Different-Repositories/';
    var disqus_url = 'https://nick10811.github.io/2022/01/04/Merge-Commits-Among-Different-Repositories/';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
    <script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'nick10811'; // required: replace example with your forum shortname
var disqus_identifier = '/2022/01/04/Merge-Commits-Among-Different-Repositories/';
var disqus_url = 'https://nick10811.github.io/2022/01/04/Merge-Commits-Among-Different-Repositories/';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var s = document.createElement('script');
    s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59285222-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
window.fbAsyncInit = function() {
    FB.init({
        appId: '636566956443735',
        xfbml: true,
        version: 'v2.3'
    });
};

(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {
        return;
    }
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>

</html>
