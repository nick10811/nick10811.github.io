<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!-- SEO -->
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html">
  <meta name="author" content="Nick Yang">
  <meta name="copyright" content="Nick Yang">
  <meta name="google-site-verification" content="k__3UkuLW0Sii1xTIEMqhQPH9FK0q80vJRUGjaYhpdo" />
  <meta name="keywords"
        content="iOS, Swift, Objective-C, iOS Developer, Mac, watchOS, Linux, imjustaprogrammer, im just a programmer, I'm just a programmer">

  <link rel="start" title="I'm Just A Programmer" href="/">

  
    <meta property="og:title" content="I'm Just A Programmer" >
    <meta property="og:type" content="article" />
    <meta property="og:image" content="/public/logo.png">
    <meta property="og:description"
        content="" >
    <meta name="description"
        content="">
  

  <title>
    
      How to install Samba on CentOS ? &middot; I'm Just A Programmer
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/custom.min.css">
  <link href="/public/css/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


<body class="theme-base-chocolate">
    <div class="navbar">
    <h1>
        <a class="home-logo" href="https://nick10811.github.io">
            I'm Just A Programmer
        </a>
    </h1>

    <nav>
        <a href="/latest_app">Latest Apps</a>
        <a href="/archive">Archives</a>
        <a href="/about">About</a>
        <!-- 
        
            
                
            
        
            
                
                    <a  href="/about/">About</a>
                
            
        
            
                
                    <a  href="/archive/">Archives</a>
                
            
        
            
        
            
                
            
        
            
                
            
        
            
                
                    <a  href="/publication/">Publications</a>
                
            
        
            
                
            
        
            
                
            
        
            
                
                    <a  href="/tags/">Tags</a>
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
        
            
                
            
         -->
    </nav>
</div>
 <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="https://nick10811.github.io">
          I'm Just A Programmer
        </a>
      </h1>
      <p class="lead"></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/latest_app">Latest Apps</a>
      <a class="sidebar-nav-item" href="/tags">Tags</a>
      <a class="sidebar-nav-item" href="/archive">Archives</a>
      <a class="sidebar-nav-item" href="/about">About</a>
      

      <!-- 
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archives</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/publication/">Publications</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/tags/">Tags</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
       -->
      <span class="sidebar-nav-item">
        <ul class="list-inline text-center">
          
          <li>
              <a href="https://www.linkedin.com/in/nick10811">
                  <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-linkedin fa-stack-1x"></i>
                  </span>
              </a>
          </li>
          
          
          <li>
              <a href="https://github.com/nick10811">
                  <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-github fa-stack-1x"></i>
                  </span>
              </a>
          </li>
          
          
          <li>
            <a href="https://twitter.com/nick10811_">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x"></i>
              </span>
            </a>
          </li>
          
        </ul>
      </span>
    </nav>
    <p class="copyright">
        &copy; Copyright 2023 | Nick Yang | All rights reserved
    </p>
  </div>
</div>

    <div class="content container">
        <div class="post">
  <h1 class="post-title">How to install Samba on CentOS ?</h1>
  <span class="post-date">01 Jun 2016</span>
  Is this article teach you do basic samba? Oh~ no. This article introduces the server of samba. This server can help you to share files between Linux and Windows. The difference with FTP server is you can revise file directly on your PC. So let me show you how to install Samba server on Cent OS.<br /><br /><ul><li>Install samba</li><pre class="brush: shell; gutter: false;">[nick1811@centos-6 ~]$ sudo yum install -y samba<br /></pre><li>To allow folder access</li><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ sudo vim /etc/selinux/config<br /></pre><pre class="brush: bash;"># This file controls the state of SELinux on the system.<br /># SELINUX= can take one of these three values:<br />#     enforcing - SELinux security policy is enforced.<br />#     permissive - SELinux prints warnings instead of enforcing.<br />#     disabled - No SELinux policy is loaded.<br />SELINUX=disabled<br /></pre><li>To add samba user (<b>Hint:</b> Only Linux users can be added to samba user)</li><pre class="brush: bash; gutter: false;">[nick1811@CentOS-6 ~]$ sudo pdbedit -a -u nick1811<br />new password:<br />retype new password:<br /></pre><li>Add user with password</li><pre class="brush: bash; gutter: false;">[nick1811@CentOS-6 ~]$ sudo printf "********\n********\n" | sudo pdbedit -t -a -u nick1811<br />Unix username:        nick1811<br /></pre><li>To delete samba user</li><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ sudo pdbedit -x -u nick1811<br /></pre><li>To check samba users</li><pre class="brush: bash; gutter: false;">[nick1811@CentOS-6 ~]$ sudo pdbedit -L<br />nick1811:500:nick1811<br /></pre><li>To enable samba on starting OS</li><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ sudo chkconfig smb on<br /></pre><li>Settings for creating shares by non-root users</li><ul><li>create samba shares folder</li><pre class="brush: bash; gutter: false;">[nick1811@CentOS-6 ~]$ sudo mkdir -p /usr/local/samba/lib/usershares<br />[nick1811@CentOS-6 ~]$ sudo chown root:nick1811 /usr/local/samba/lib/usershares<br />[nick1811@CentOS-6 ~]$ sudo chmod 1770 /usr/local/samba/lib/usershares<br />[nick1811@CentOS-6 ~]$ sudo chcon -R -t samba_share_t /usr/local/samba/lib/usershares<br /></pre><li>set up your smb.conf by adding to the [global] section</li><pre class="brush: bash; gutter: false;">[nick1811@CentOS-6 ~]$ sudo vim /etc/samba/smb.conf<br /></pre><pre class="brush: bash;">#======================= Global Settings =====================================<br /><br />[global]<br />wins support = yes<br />usershare path = /usr/local/samba/lib/usershares<br />usershare max shares = 100<br />usershare allow guests = true<br />usershare owner only = false<br /># Samba works on NFS-Shares<br />admin users = nick1811<br />strict locking = no<br />oplocks = no<br />acl check permissions = false<br /><br /><br /></pre></ul><li>Now you can create folder shares</li><ul><li>To share samba folder</li><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ net usershare add nick_samba /home/nick1811/samba/ "nick's samba folder" Everyone:F guest_ok=y<br /></pre><li>To unshare samba folder</li><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ net usershare delete nick_samba<br /></pre></ul><li>To enable/disable samba service</li><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ sudo service smb start<br /></pre><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ sudo service smb stop<br /></pre><pre class="brush: bash; gutter: false;">[nick1811@centos-6 ~]$ sudo service smb restart<br /></pre><li>Finally, remember to set iptables for samba</li><pre class="brush: bash; gutter: false;">[nick1811@CentOS-6 ~]$ sudo vim /etc/sysconfig/iptables<br /></pre><pre class="brush: bash;"># SAMBA/CIFS<br />-A INPUT -m state --state NEW -m tcp -p tcp --dport 139 -j ACCEPT<br />-A INPUT -m state --state NEW -m tcp -p tcp --dport 445 -j ACCEPT<br /></pre><pre class="brush: bash; gutter: false;">[nick1811@CentOS-6 ~]$ sudo service iptables restart<br />iptables: Setting chains to policy ACCEPT: filter          [  OK  ]<br />iptables: Flushing firewall rules:                         [  OK  ]<br />iptables: Unloading modules:                               [  OK  ]<br />iptables: Applying firewall rules:                         [  OK  ]<br /><br /></pre></ul><div><br /></div><div><b>References:</b>&nbsp;</div><div><ul><li><a href="http://ubuntuforums.org/showthread.php?t=1894262">http://ubuntuforums.org/showthread.php?t=1894262</a></li><li><a href="http://www.samba.org/samba/docs/man/manpages-3/net.8.html">http://www.samba.org/samba/docs/man/manpages-3/net.8.html</a></li><li><a href="http://www.samba.org/samba/docs/man/manpages-3/smb.conf.5.html">http://www.samba.org/samba/docs/man/manpages-3/smb.conf.5.html</a></li></ul></div><div><br /></div>
  <div class="post-tag">
    <span class="fa-stack fa-sm">
      <i class="fa fa-tags fa-stack-1x"></i>
    </span>
    :  <a class="tag-wrapper" href="/tags/Linux" title="View posts tagged with &quot;Linux&quot;"><span class="tags">Linux</span></a>    <a class="tag-wrapper" href="/tags/Samba" title="View posts tagged with &quot;Samba&quot;"><span class="tags">Samba</span></a>   
  </div>
</div>

<div class="message">
  <img class="profile" src="/public/profile.png" alt="profile-image">
  <div class="intro-message" style="text-align:justify">
    Hello, My name is Nick, Taiwanese🇹🇼. I like to develop iOS Apps and use Unix-based operating systems. And, I love reading and
    traveling to fill to my life. This blog recorded all technical articles which I have faced and solved problems. Please
    leave your comment to discuss with me.
  </div>
</div>


<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2022/12/17/Automate-the-iOS-App-Development-and-Release-Process-with-Fastlane/">
            Automate the iOS App Development and Release Process with Fastlane
            <small>17 Dec 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/03/05/Daemon-programming-on-macOS/">
            Daemon programming on macOS
            <small>05 Mar 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/02/22/Advanced-Git-make-git-tree-pretty/">
            Advanced Git: make git tree pretty
            <small>22 Feb 2022</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
 
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nick10811'; // required: replace example with your forum shortname
    var disqus_identifier = '/2016/06/01/how-to-install-samba-on-centos/';
    var disqus_url = 'https://nick10811.github.io/2016/06/01/how-to-install-samba-on-centos/';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
    <script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'nick10811'; // required: replace example with your forum shortname
var disqus_identifier = '/2016/06/01/how-to-install-samba-on-centos/';
var disqus_url = 'https://nick10811.github.io/2016/06/01/how-to-install-samba-on-centos/';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var s = document.createElement('script');
    s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59285222-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
window.fbAsyncInit = function() {
    FB.init({
        appId: '636566956443735',
        xfbml: true,
        version: 'v2.3'
    });
};

(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {
        return;
    }
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>

</html>
